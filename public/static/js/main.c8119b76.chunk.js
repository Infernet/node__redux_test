(window.webpackJsonpnode_with_react=window.webpackJsonpnode_with_react||[]).push([[0],{46:function(e,t,a){e.exports=a(79)},51:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),o=a.n(s);a(51),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(1),l=a(2),i=a(4),u=a(3),p=a(5),m=a(9),h=a(19),d=a(18),E=a(8),f=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChange=a.onChange.bind(Object(E.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){this.props.setValue(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"block"+this.props.class},r.a.createElement("label",{htmlFor:"login",className:"label"+this.props.class},"Login"),r.a.createElement("input",{type:"text",id:"login",name:"login",className:"input"+this.props.class,onChange:this.onChange,placeholder:this.props.login,autoComplete:"false"}))}}]),t}(r.a.Component),b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChange=a.onChange.bind(Object(E.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){this.props.setValue(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"block"+this.props.class},r.a.createElement("label",{htmlFor:"password",className:"label"+this.props.class},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",className:"input"+this.props.class,onChange:this.onChange,placeholder:this.props.password,autoComplete:"false"}))}}]),t}(r.a.Component),g=a(6),O=a.n(g),v="CHANGE_LOGIN",y="CHANGE_PASSWORD",_="SIGN_IN_SUCCESS",j="SIGN_IN_REQUEST",k="SIGN_IN_FAILED",N="SIGN_OUT",S="SIGN_OUT_TOKEN",T="RESTORE_TOKEN",U="CLEAR_TOKEN_DATA",R="AUTH_WITH_TOKEN_SUCCESS",C="AUTH_WITH_TOKEN_FAILED",I="REFRESH_TOKEN_SUCCESS",w="REFRESH_TOKEN_FAILED",A=a(15),D=a.n(A),L=a(21),F=a.n(L),P=a(20),q={id:null,role:0,login:"",password:""};var H="CLEAR_USER_DATA",G="GET_USERS_SUCCESS",M="GET_USERS_FAILED",z="CHANGE_USER",x="INSERT_USER_SUCCESS",B="INSERT_USER_FAILED",V="UPDATE_USER_SUCCESS",W="UPDATE_USER_FAILED",K="DELETE_USER_SUCCESS",J="DELETE_USER_FAILED",Q="CHANGE_OPERATION",Y="FORM_CHANGE_LOGIN",$="FORM_CHANGE_PASSWORD",X="FORM_CHANGE_FIRST_NAME",Z="FORM_CHANGE_LAST_NAME",ee="FORM_CHANGE_EMAIL",te="FORM_CHANGE_ROLE",ae="CHANGE_USER_DATA",ne="OPERATION_SHOW_LIST",re={selectedId:null,selectedOperation:ne,users:[],userData:["id","login","role","email","first name","last name"]};var se={accessToken:null,refreshToken:null};var oe={login:"",role:0,email:"",firstName:"",lastName:""};var ce=Object(P.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object.assign({},e,{login:t.payload});case y:return Object.assign({},e,{password:t.payload});case j:return e;case _:return Object.assign({},e,t.payload,{password:""});case k:return Object.assign({},e,t.payload);case N:return Object.assign({},q);default:return e}},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:case I:case R:return Object.assign({},e,t.payload);case w:case C:case U:case S:return Object.assign({},se);default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object.assign({},e,{selectedId:t.payload});case Q:return Object.assign({},e,{selectedOperation:t.payload});case G:case x:case V:case K:return Object.assign({},e,{users:t.payload});case B:case W:case J:case M:return Object.assign({},e,{users:re.users});default:return e}},userFormsData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:case Y:case $:case X:case Z:case ee:case te:return Object.assign({},e,t.payload);case H:return Object.assign({},oe);default:return e}}}),le=a(43),ie=a.n(le),ue=a(44),pe=a(10),me=Object(pe.a)(),he=(me.location,me.listen((function(e,t){console.log(t,e.pathname,e.state)})),Object(P.d)(ce,Object(P.a)(ue.a,ie.a)));var de=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(h.b,{exact:this.props.exact,className:"nav__link",activeClassName:"nav__link__active",to:this.props.link},this.props.name)}}]),t}(r.a.Component),Ee=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"nav-bar"},r.a.createElement("div",{className:"nav-bar__container"},r.a.createElement(de,{exact:!0,link:"/",name:"Home page"}),r.a.createElement(de,{link:"/login",name:"Login"}),r.a.createElement(de,{link:"/authenticated",name:"Authenticated"}),r.a.createElement(de,{link:"/users",name:"User list"})))}}]),t}(r.a.Component),fe=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("img",{src:"/react-gif.gif",alt:""}))}}]),t}(r.a.Component),be=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"footer--logo"},r.a.createElement("img",{src:"/logo192.png",alt:""})),r.a.createElement("div",{className:"footer--content"},r.a.createElement("p",null,"\xa9 design by Infernet")))}}]),t}(r.a.Component),ge=a(14),Oe=a.n(ge),ve=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(E.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.signIn({login:this.props.login,password:this.props.password})}},{key:"render",value:function(){var e=this.props,t=e.setLogin,a=e.setPassword,n=e.login,s=e.password;return r.a.createElement("div",null,r.a.createElement(Oe.a,{title:"Sign in"}),r.a.createElement(fe,null),r.a.createElement(Ee,null),r.a.createElement("div",{className:"authorization-body"},r.a.createElement("div",{className:"authorization__title"},r.a.createElement("h3",null,"Login Page")),r.a.createElement("div",{className:"authorization__content"},r.a.createElement("form",{className:"authorization__content--form",onSubmit:this.handleSubmit},r.a.createElement(f,{login:n,setValue:t,class:"Login"}),r.a.createElement(b,{password:s,class:"Password",setValue:a}),r.a.createElement("button",{type:"submit"},"sign in")))),r.a.createElement(be,null))}}]),t}(r.a.Component);ve.propsTypes={login:O.a.string.isRequired,password:O.a.string.isRequired,setLogin:O.a.func.isRequired,setPassword:O.a.func.isRequired};var ye=Object(m.b)((function(e){return{login:e.user.login,password:e.user.password}}),(function(e){return{setLogin:function(t){return e(function(e){return{type:v,payload:e}}(t))},setPassword:function(t){return e(function(e){return{type:y,payload:e}}(t))},signIn:function(t){return e((function(e){var t=he.getState().user;F.a.getV18((function(a){D.a.post("/request/login/login-auth",{login:t.login,password:t.password,fingerPrint:a}).then((function(t){localStorage.setItem("accessToken",t.data.tokens.accessToken),localStorage.setItem("refreshToken",t.data.tokens.refreshToken),e({type:_,payload:t.data.user}),e({type:R,payload:t.data.tokens})})).catch((function(t){return e({type:k})}))}))}))}}}))(ve),_e=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.class.container},r.a.createElement("p",{className:this.props.class.title},this.props.title),r.a.createElement("p",{className:this.props.class.content},this.props.content))}}]),t}(r.a.Component),je=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.store,t={container:"home__content--container",title:"home__content--title",content:"home__content--content"};return r.a.createElement("div",null,r.a.createElement(Oe.a,{title:"Home page"}),r.a.createElement(fe,null),r.a.createElement(Ee,null),r.a.createElement("div",{className:"home-body"},r.a.createElement("div",{className:"home__title"},r.a.createElement("h3",null,"Home page")),r.a.createElement("div",{className:"home__content"},null!==e.token.accessToken?Object.keys(e.user).map((function(a){if("token"!==a&&""!==e.user[a])return r.a.createElement(_e,{key:a,class:t,title:a+":",content:e.user[a]})})):r.a.createElement(_e,{class:t,title:"\u041e\u0448\u0438\u0431\u043a\u0430:",content:"\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b"}))),r.a.createElement(be,null))}}]),t}(r.a.Component),ke=Object(m.b)((function(e){return{store:e}}))(je),Ne=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.store;return r.a.createElement("div",null,r.a.createElement(Oe.a,{title:"Authenticated"}),r.a.createElement(fe,null),r.a.createElement(Ee,null),r.a.createElement("div",{className:"authenticated-body"},r.a.createElement("div",{className:"authenticated--title"},r.a.createElement("h3",null,"Authenticated page")),r.a.createElement("ul",{className:"authenticated--content"},Object.keys(e.user).map((function(t){return"token"!==t&&r.a.createElement("li",{key:t},t,": ",e.user[t])}))),r.a.createElement("button",{className:"authenticated--button",onClick:this.props.signOut},"Log out")),r.a.createElement(be,null))}}]),t}(r.a.Component),Se=Object(m.b)((function(e){return{store:e}}),(function(e){return{signOut:function(){return e((function(e){var t=he.getState().tokenAuth;F.a.getV18((function(a){D.a.post("/request/login/sign-out",{fingerPrint:a},{headers:{authorization:"Bearer "+t.refreshToken}}).finally((function(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),e({type:N}),e({type:S})}))}))}))}}}))(Ne);function Te(){return function(e){var t=he.getState().token;F.a.getV18((function(a){D.a.post("/request/login/token-auth",{fingerPrint:a},{headers:{authorization:"Bearer "+t.accessToken}}).then((function(t){if(200!==t.status)throw new Error;e({type:R}),e({type:_,payload:t.data.user})})).catch((function(a){401===a.request.status&&null!==t.refreshToken?e(Ue(Te)):(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),e({type:C}),e({type:N}))}))}))}}function Ue(e){return function(t){var a=he.getState().token;F.a.getV18((function(n){D.a.post("/request/login/refresh-token",{fingerPrint:n},{headers:{authorization:"Bearer "+a.refreshToken}}).then((function(a){localStorage.setItem("accessToken",a.data.accessToken),localStorage.setItem("refreshToken",a.data.refreshToken),t({type:I,payload:a.data}),t(e())})).catch((function(e){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),t({type:w}),t({type:N})}))}))}}var Re=a(30);function Ce(e){return function(t){t({type:z,payload:e})}}function Ie(e){return{type:Q,payload:e}}function we(){return function(e){var t=he.getState().token.accessToken;D.a.post("/request/user/get",{},{headers:{authorization:"Bearer "+t}}).then((function(t){return e({type:G,payload:t.data.users})})).catch((function(t){401===t.request.status?e(Ue(we)):e({type:M})}))}}function Ae(){return function(e){var t=he.getState().token.accessToken,a=he.getState().userFormsData;D.a.post("/request/user/insert",{user:a},{headers:{authorization:"Bearer "+t}}).then((function(t){e({type:x,payload:t.data.users}),e({type:H}),e({type:Q,payload:ne})})).catch((function(t){401===t.request.status?e(Ue(Ae)):(e({type:B}),e(Object(Re.push)("/login")))}))}}function De(){return function(e){var t=he.getState().token.accessToken,a=he.getState().userFormsData,n=he.getState().userList.selectedId;D.a.post("/request/user/update",{userData:a,userId:n},{headers:{authorization:"Bearer "+t}}).then((function(t){e({type:V,payload:t.data.users}),e({type:H}),e(Ce(null)),e({type:Q,payload:ne})})).catch((function(t){401===t.request.status?e(Ue(De)):(e({type:W}),e(Object(Re.push)("/login")))}))}}function Le(){return function(e){var t=he.getState().token.accessToken,a=he.getState().userList;D.a.post("/request/user/delete",{id:a.selectedId},{headers:{authorization:"Bearer "+t}}).then((function(t){e({type:K,payload:t.data.users}),e(Ce(null)),e({type:Q,payload:ne})})).catch((function(t){401===t.request.status?e(Ue(Le)):e({type:J})}))}}var Fe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onInsertUser=a.onInsertUser.bind(Object(E.a)(a)),a.onUpdateUser=a.onUpdateUser.bind(Object(E.a)(a)),a.onDeleteUser=a.onDeleteUser.bind(Object(E.a)(a)),a.onShowUsers=a.onShowUsers.bind(Object(E.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onInsertUser",value:function(e){e.preventDefault(),this.props.selectOperation("OPERATION_INSERT_USER")}},{key:"onUpdateUser",value:function(e){e.preventDefault(),this.props.selectOperation("OPERATION_UPDATE_USER")}},{key:"onDeleteUser",value:function(e){e.preventDefault(),this.props.selectOperation("OPERATION_DELETE_USER")}},{key:"onShowUsers",value:function(e){e.preventDefault(),this.props.selectOperation(ne)}},{key:"render",value:function(){return r.a.createElement("div",{className:"users__control-panel--container"},r.a.createElement("button",{className:"users__control-panel--btn",onClick:this.onShowUsers},"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"),r.a.createElement("button",{className:"users__control-panel--btn",onClick:this.onInsertUser},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement("button",{className:"users__control-panel--btn",onClick:this.onUpdateUser},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),r.a.createElement("button",{className:"users__control-panel--btn",onClick:this.onDeleteUser},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))}}]),t}(r.a.Component);Fe.propsTypes={store:O.a.object.isRequired};var Pe=Object(m.b)((function(e){return{store:e.userList}}),(function(e){return{selectOperation:function(t){return e(Ie(t))}}}))(Fe),qe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onSelect=a.onSelect.bind(Object(E.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"onSelect",value:function(e){e.preventDefault(),this.props.select(this.props.user.id)}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement(h.b,{to:"",onClick:this.onSelect,className:"users__list--item-container",activeClassName:"users__list--item--container__active"},Object.keys(e).map((function(t){return r.a.createElement("p",{className:"users__list--item-content",key:t},e[t])})))}}]),t}(r.a.Component);qe.propsTypes={user:O.a.object.isRequired,select:O.a.func.isRequired};var He=qe;var Ge=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).changeLogin=a.changeLogin.bind(Object(E.a)(a)),a.changePassword=a.changePassword.bind(Object(E.a)(a)),a.changeFirstName=a.changeFirstName.bind(Object(E.a)(a)),a.changeLastName=a.changeLastName.bind(Object(E.a)(a)),a.changeEmail=a.changeEmail.bind(Object(E.a)(a)),a.changeRadio=a.changeRadio.bind(Object(E.a)(a)),a.handlerForm=a.handlerForm.bind(Object(E.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){switch(this.props.operation){case"OPERATION_INSERT_USER":this.props.clearData();break;case"OPERATION_UPDATE_USER":this.props.clearData(),this.props.loadData();break;default:return}}},{key:"changeLogin",value:function(e){this.props.changeLogin(e.target.value)}},{key:"changePassword",value:function(e){this.props.changePassword(e.target.value)}},{key:"changeFirstName",value:function(e){this.props.changeFirstName(e.target.value)}},{key:"changeLastName",value:function(e){this.props.changeLastName(e.target.value)}},{key:"changeEmail",value:function(e){this.props.changeEmail(e.target.value)}},{key:"changeRadio",value:function(e){this.props.changeRadio(+e.target.value)}},{key:"handlerForm",value:function(e){switch(e.preventDefault(),this.props.operation){case"OPERATION_INSERT_USER":this.props.insertUser();break;case"OPERATION_UPDATE_USER":this.props.updateUser();break;default:return}}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("form",{className:"users_form_insert",onSubmit:this.handlerForm},r.a.createElement("div",{className:"users_form--group"},r.a.createElement("label",{htmlFor:"login"},"Login"),r.a.createElement("input",{id:"login",name:"login",type:"text",value:e.login,autoComplete:"new-login",required:!0,onChange:this.changeLogin})),r.a.createElement("div",{className:"users_form--group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{id:"password",name:"password",type:"password",value:e.password,autoComplete:"new-password",required:!0,onChange:this.changePassword})),r.a.createElement("div",{className:"users_form--group"},r.a.createElement("label",{htmlFor:"firstName"},"First name"),r.a.createElement("input",{id:"firstName",name:"firstName",type:"text",value:e.firstName,required:!0,onChange:this.changeFirstName})),r.a.createElement("div",{className:"users_form--group"},r.a.createElement("label",{htmlFor:"lastName"},"Last name"),r.a.createElement("input",{id:"lastName",name:"lastName",value:e.lastName,type:"text",onChange:this.changeLastName})),r.a.createElement("div",{className:"users_form--group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{id:"email",name:"email",type:"email",value:e.email,required:!0,onChange:this.changeEmail})),r.a.createElement("div",{className:"users_form--group"},r.a.createElement("div",{className:"users_form--radio--group"},r.a.createElement("label",{htmlFor:"user_role"},"User"),r.a.createElement("input",{type:"radio",id:"user_role",name:"role",className:"users_form--radio-role",value:"0",checked:0===e.role,onChange:this.changeRadio})),r.a.createElement("div",{className:"users_form--radio--group"},r.a.createElement("label",{htmlFor:"admin_role"},"Admin"),r.a.createElement("input",{type:"radio",id:"admin_role",name:"role",className:"users_form--radio-role",value:"1",checked:1===e.role,onChange:this.changeRadio}))),r.a.createElement("button",{type:"submit"},"create user"))}}]),t}(r.a.Component);Ge.propsTypes={user:O.a.object.isRequired};var Me=Object(m.b)((function(e){return{user:e.userFormsData,operation:e.userList.selectedOperation}}),(function(e){return{insertUser:function(){return e(Ae())},loadData:function(){return e((function(e){var t=he.getState().userList,a=t.selectedId,n=t.users.find((function(e){return e.id===a})),r=Object.assign({},n);delete r.id,e({type:ae,payload:r})}))},clearData:function(){return e({type:H})},updateUser:function(){return e(De())},changeLogin:function(t){return e(function(e){return{type:Y,payload:{login:e}}}(t))},changePassword:function(t){return e(function(e){return{type:$,payload:{password:e}}}(t))},changeFirstName:function(t){return e(function(e){return{type:X,payload:{firstName:e}}}(t))},changeLastName:function(t){return e(function(e){return{type:Z,payload:{lastName:e}}}(t))},changeEmail:function(t){return e(function(e){return{type:ee,payload:{email:e}}}(t))},changeRadio:function(t){return e(function(e){return{type:te,payload:{role:e}}}(t))}}}))(Ge),ze=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).deleteAccept=a.deleteAccept.bind(Object(E.a)(a)),a.deleteDeny=a.deleteDeny.bind(Object(E.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"deleteAccept",value:function(e){e.preventDefault(),this.props.deleteUser(),this.props.changeOperation(),this.props.clearUser()}},{key:"deleteDeny",value:function(e){e.preventDefault(),this.props.changeOperation(),this.props.clearUser()}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"users_form_delete"},r.a.createElement("p",{className:"users_form_delete_message"},"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ",e.login?e.login:"empty","?"),r.a.createElement("div",{className:"users_form_delete_btn-group"},r.a.createElement("button",{className:"users_form_delete_btn",onClick:this.deleteAccept},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),r.a.createElement("button",{className:"users_form_delete_btn",onClick:this.deleteDeny},"\u041e\u0442\u043c\u0435\u043d\u0430")))}}]),t}(r.a.Component);ze.propsTypes={user:O.a.object.isRequired};var xe=Object(m.b)((function(e){return{user:e.userFormsData}}),(function(e){return{deleteUser:function(){return e(Le())},changeOperation:function(){return e(Ie(ne))},clearUser:function(){return e(Ce(null))}}}))(ze),Be=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"render",value:function(){var e=this,t=this.props.store,a=this.props.store.users;switch(t.selectedOperation){case ne:return r.a.createElement("div",null,r.a.createElement(Oe.a,{title:"User list"}),r.a.createElement(fe,null),r.a.createElement(Ee,null),r.a.createElement(Pe,null),r.a.createElement("div",{className:"users-body"},r.a.createElement("div",{className:"users__list-header"},t.userData.map((function(e){return r.a.createElement("p",{className:"users__list-header--title",key:e},e)}))),a.map((function(t){return r.a.createElement(He,{user:t,key:t.id,select:e.props.selectUser})}))),r.a.createElement(be,null));case"OPERATION_UPDATE_USER":case"OPERATION_INSERT_USER":return r.a.createElement("div",null,r.a.createElement(Oe.a,{title:"OPERATION_UPDATE_USER"===t.selectedOperation?"Update user":"Insert user"}),r.a.createElement(fe,null),r.a.createElement(Ee,null),r.a.createElement(Pe,null),r.a.createElement(Me,null),r.a.createElement(be,null));case"OPERATION_DELETE_USER":return r.a.createElement("div",null,r.a.createElement(Oe.a,{title:"Delete user"}),r.a.createElement(fe,null),r.a.createElement(Ee,null),r.a.createElement(Pe,null),r.a.createElement(xe,null),r.a.createElement(be,null));default:return r.a.createElement("div",null,r.a.createElement(Oe.a,{title:"Empty result"}),r.a.createElement(fe,null),r.a.createElement(Ee,null),r.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex"}},r.a.createElement("h1",{style:{color:"black",margin:"auto"}},"EMPTY RESULT")),r.a.createElement(be,null))}}}]),t}(r.a.Component),Ve=Object(m.b)((function(e){return{store:e.userList}}),(function(e){return{getUsers:function(){return e(we())},selectUser:function(t){return e(Ce(t))}}}))(Be),We=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.token.accessToken;return r.a.createElement(d.d,{fallback:r.a.createElement("div",null,"HELLO")},r.a.createElement(d.b,{path:"/",exact:!0,component:ke}),null!==e?r.a.createElement(d.a,{from:"/login",to:"/authenticated"}):r.a.createElement(d.a,{from:"/authenticated",to:"/login"}),r.a.createElement(d.b,{path:"/login",component:ye}),r.a.createElement(d.b,{path:"/authenticated",component:Se}),r.a.createElement(d.b,{path:"/users",component:Ve}))}}]),t}(r.a.Component),Ke=Object(m.b)((function(e){return{token:e.token}}))(We),Je=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.token;null===e.accessToken&&null===e.refreshToken&&this.props.restoreToken()}},{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(Ke,null))}}]),t}(r.a.Component);Je.propsTypes={user:O.a.object.isRequired};var Qe=Object(m.b)((function(e){return{user:e.user,token:e.token}}),(function(e){return{restoreToken:function(){return e((function(e){var t=localStorage.getItem("accessToken"),a=localStorage.getItem("refreshToken");null!==t&&null!==a?(e({type:T,payload:{accessToken:t,refreshToken:a}}),e(Te())):(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),e({type:N}),e({type:S}))}))}}}))(Je);o.a.render(r.a.createElement(m.a,{store:he},r.a.createElement(Qe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.c8119b76.chunk.js.map